## OAuth 2.0

**OAuth 2.0**  是目前最流行的授权机制，用来授权第三方应用，获取用户数据。

简单说，OAuth 就是一种授权机制。数据的所有者告诉系统，同意授权第三方应用进入系统，获取这些数据。系统从而产生一个短期的进入令牌（token），用来代替密码，供第三方应用使用。

### 令牌与密码

token 与 password 的作用是一样的，都可以进入系统，但是有三点差异：

1. 令牌是短期的，到期会自动失效，用户自己无法修改。密码一般长期有效，用户不修改，就不会发生变化。
2. 令牌可以被数据所有者撤销，会立即失效。密码一般不允许他人撤销。
3. 令牌有权限范围，比如只能进入小区的二号门。对于网络服务来说，只读令牌比读写令牌更安全。密码一般是完整权限。

### RFC 6749

OAuth 2.0 的标准是 `RFC 6749` 文件。

> OAuth 引入了一个授权层，用来分离两种不同的角色：客户端和资源所有者。
>
> ……资源所有者同意以后，资源服务器可以向客户端颁发令牌。客户端通过令牌，去请求数据。

**OAuth的核心就是向第三方应用颁发令牌。**

OAuth 2.0 规定了四种获得令牌的流程。你可以选择最适合自己的那一种，向第三方应用颁发令牌。

- 授权码
- 隐藏式
- 密码式
  1. 用户向客户端提供用户名和密码
  2. 客户端向认证服务器换取令牌
     - grant_type: 授权类型，固定为password。
     - username:
     - password:
     - scope: 权限范围，可选项。
  3. 认证服务器发放令牌
- 客户端凭证

